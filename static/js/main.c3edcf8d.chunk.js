(this.webpackJsonpclientv2=this.webpackJsonpclientv2||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(49)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,s=a(0),r=a.n(s),i=a(8),o=a.n(i),c=(a(16),a(2)),l=a(3),u=a(1),m=a(5),d=a(4),p=(a(17),a(9)),v=a.n(p),h=(a(18),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).socket=n.props.socket,n.startQuiz=n.startQuiz.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"startQuiz",value:function(){this.socket.send('"startQuiz"-'+JSON.stringify(this.props.roomID)),console.log("Start game request sent")}},{key:"copyToClipboard",value:function(){var e=document.querySelector(".room-id-text");e.setAttribute("style","background-color: rgba(146, 226, 173, 0.45);"),e.select(),document.execCommand("copy")}},{key:"render",value:function(){return this.props.isOwner?r.a.createElement("div",{className:"room"},r.a.createElement("div",{className:"room-components"},r.a.createElement("div",{className:"room-name"},r.a.createElement("p",null,"Your Quiz Room")),r.a.createElement("div",{className:"room-info"},r.a.createElement("div",{className:"room-info-element"},r.a.createElement("div",{className:"participants-name"},r.a.createElement("p",null,"Participants")),r.a.createElement("div",{className:"participants"},this.props.participants)),r.a.createElement("div",{className:"vertical-separator"}),r.a.createElement("div",{className:"room-info-element",id:"game-settings"},r.a.createElement("div",{className:"sharable-room-id"},r.a.createElement("div",{className:"share-code-content"},r.a.createElement("div",null,r.a.createElement("p",null,"Share code")),r.a.createElement("input",{className:"room-id-text",value:this.props.roomId,type:"Text",spellCheck:"false"})),r.a.createElement("div",{className:"copy-code-button-div"},r.a.createElement("div",{className:"copy-code-button",onClick:this.copyToClipboard},"Copy"))),r.a.createElement("div",{className:"quiz-buttons-div"},r.a.createElement("div",{className:"start-game-button",onClick:this.startQuiz},r.a.createElement("p",null,"Start Quiz")),r.a.createElement("div",{className:"quit-game-button"},r.a.createElement("p",null,"Quit"))),r.a.createElement("div",{className:"requests-div"},r.a.createElement("div",{className:"requests-name"},"Join Reqeusts"),r.a.createElement("div",{className:"join-user-requests"},this.props.requests)))))):r.a.createElement("div",{className:"room"},r.a.createElement("div",{className:"room-components"},r.a.createElement("div",{className:"room-name"},r.a.createElement("p",null,"Your Quiz Room")),r.a.createElement("div",{className:"not-owner-div"},r.a.createElement("div",{className:"room-info-element"},r.a.createElement("div",{className:"participants-name"},r.a.createElement("p",null,"Participants")),r.a.createElement("div",{className:"participants"},this.props.participants)))))}}]),a}(r.a.Component));a(19);!function(e){e[e.Username=0]="Username",e[e.QuizOptions=1]="QuizOptions",e[e.Loader=2]="Loader",e[e.Room=3]="Room",e[e.Quiz=4]="Quiz",e[e.Result=5]="Result",e[e.Rejected=6]="Rejected"}(n||(n={}));var f=n,b=(a(20),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).countDownTimer=200*n.props.quizDuration,n.startTime=n.countDownTimer,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){if(e.countDownTimer-=1,0==e.countDownTimer||e.props.answerSubmited())e.props.endQuiz((e.startTime-e.countDownTimer)/200),clearInterval(t);else if(10==e.countDownTimer){var a=document.querySelector(".timer-countdown-div");null===a||void 0===a||a.setAttribute("style","color: red;")}e.forceUpdate()}),5)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"timer-countdown-div"},(this.countDownTimer/200).toString().substr(0,2)))}}]),a}(r.a.Component)),E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).questionIndex=0,n.durationPerQuestion=10,n.answersSelected=new Array(n.props.questionAndAnswers.length).fill(0),n.endQuiz=n.endQuiz.bind(Object(u.a)(n)),n.answerChoice=n.answerChoice.bind(Object(u.a)(n)),n.nextQuestion=n.nextQuestion.bind(Object(u.a)(n)),n.answerSubmited=n.answerSubmited.bind(Object(u.a)(n)),n.wrongAnswerClicked=n.wrongAnswerClicked.bind(Object(u.a)(n)),n.correctAnswerClicked=n.correctAnswerClicked.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"nextQuestion",value:function(){this.answerSubmited()||(this.questionIndex+=1,this.forceUpdate())}},{key:"wrongAnswerClicked",value:function(){this.answersSelected[this.questionIndex]=0,this.nextQuestion()}},{key:"correctAnswerClicked",value:function(){this.answersSelected[this.questionIndex]=1,this.nextQuestion()}},{key:"answerSubmited",value:function(){return this.questionIndex==this.props.questionAndAnswers.length}},{key:"endQuiz",value:function(e){this.props.setActiveComponent(f.Result);var t={RoomID:this.props.roomId,ID:this.props.user,Answers:this.answersSelected,TimeTaken:e};this.props.socket.send('"quizAnswers"-'+JSON.stringify(t)),this.forceUpdate(),console.log(this.answersSelected)}},{key:"answerChoice",value:function(){var e=this,t=Array.from(this.props.questionAndAnswers[this.questionIndex].Incorrect_Answers).map((function(t){return r.a.createElement("div",{className:"answer-select-button",id:"wrong-answer",onClick:e.wrongAnswerClicked},t)})),a=3*Math.random()|0;return t.splice(a,0,r.a.createElement("div",{className:"answer-select-button",id:"correct-answer",onClick:this.correctAnswerClicked},this.props.questionAndAnswers[this.questionIndex].Correct_Answer)),t}},{key:"render",value:function(){return this.answerSubmited()?r.a.createElement("div",null):r.a.createElement("div",{className:"quiz-main"},r.a.createElement(b,{quizDuration:this.durationPerQuestion*this.props.questionAndAnswers.length,answerSubmited:this.answerSubmited,endQuiz:this.endQuiz}),r.a.createElement("div",{className:"quiz-componenet"},r.a.createElement("div",{className:"quiz-question"},r.a.createElement("div",{className:"quiz-progress"},"Question ",this.questionIndex+1,"/",this.props.questionAndAnswers.length),r.a.createElement("div",{className:"question-string"},this.props.questionAndAnswers[this.questionIndex].Question)),r.a.createElement("div",{className:"vertical-separator"}),r.a.createElement("div",{className:"quiz-select-answers"},this.answerChoice())))}}]),a}(r.a.Component),N=(a(21),a(10)),w=a.n(N),k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(w.a,{type:"Watch",color:"#00BFFF",height:100,width:100}))}}]),a}(r.a.Component),j=(a(43),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).user={},n.userScore=n.userScore.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.userScore()}},{key:"userScore",value:function(){console.log(this.props.results.length);for(var e=0;e<this.props.results.length;e++)this.props.results[e].ID==this.props.userName&&(this.user=this.props.results[e]);this.forceUpdate()}},{key:"leaderBoardElements",value:function(){var e=this,t=0;return Array.from(this.props.results).map((function(a){return t++,a==e.user?r.a.createElement("div",{className:"leader-board-item"},r.a.createElement("div",{className:"leader-board-pos"},t),r.a.createElement("div",{className:"username-current-user"},a.ID)):r.a.createElement("div",{className:"leader-board-item"},r.a.createElement("div",{className:"leader-board-pos"},t),r.a.createElement("div",{className:"username"},a.ID))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"results-div"},r.a.createElement("div",{className:"result-info"},r.a.createElement("div",{className:"result-name"},r.a.createElement("p",null,"Quiz Results")),r.a.createElement("div",{className:"results-detailed-info"},r.a.createElement("div",{className:"user-results"},r.a.createElement("div",{className:"user-result-metric",id:"user-score"},r.a.createElement("div",{className:"user-result-value"},this.user.Score),r.a.createElement("div",{className:"user-result-text"},"Score")),r.a.createElement("div",{className:"user-result-metric",id:"user-time"},r.a.createElement("div",{className:"user-result-value"},this.user.TimeTaken),r.a.createElement("div",{className:"user-result-text"},"Time (sec)")),r.a.createElement("div",{className:"user-result-metric",id:"user-accuracy"},r.a.createElement("div",{className:"user-result-value"},(this.user.Score/this.user.NoOfQuestions*100).toString()+"%"),r.a.createElement("div",{className:"user-result-text"},"Accuracy"))),r.a.createElement("div",{className:"vertical-separator-green"}),r.a.createElement("div",{className:"participants-results"},r.a.createElement("div",{className:"leader-board-name"},r.a.createElement("p",null,"Leaderboard")),r.a.createElement("div",{className:"leader-board"},this.leaderBoardElements())))))}}]),a}(r.a.Component)),O=(a(44),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"rejected-div"},r.a.createElement("div",{className:"rejected-info"},r.a.createElement("div",{className:"rejected-heading"},r.a.createElement("p",null,"Rejected")),r.a.createElement("div",{className:"rejected-info-text"},r.a.createElement("p",null,"Your request was rejected, please try another room"))))}}]),a}(r.a.Component)),q=(a(45),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).submitUsername=n.submitUsername.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"submitUsername",value:function(){var e=document.querySelector(".username-input").value;this.props.setUsername(e),this.props.setActiveComponent(f.QuizOptions),this.props.stopLoader()}},{key:"render",value:function(){return r.a.createElement("div",{className:"username-div"},r.a.createElement("div",{className:"username-text"},"Username"),r.a.createElement("div",{className:"username-enter-div"},r.a.createElement("div",{className:"username-input-div"},r.a.createElement("input",{type:"text",className:"username-input",spellCheck:"false"})),r.a.createElement("div",{className:"username-button-div"},r.a.createElement("div",{className:"username-button",onClick:this.submitUsername},"Enter Quiz"))))}}]),a}(r.a.Component)),y=(a(46),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).createRoom=n.createRoom.bind(Object(u.a)(n)),n.joinRoom=n.joinRoom.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"createRoom",value:function(){var e={RoomID:this.props.roomId,OwnerID:this.props.user};this.props.socket.send('"createRoom"-'+JSON.stringify(e)),this.props.setActiveComponent(f.Room),this.props.setOwner(!0)}},{key:"joinRoom",value:function(){var e={RoomID:document.querySelector(".code-text-input").value,UserID:this.props.user};this.props.socket.send('"requestToJoin"-'+JSON.stringify(e)),this.props.setActiveComponent(f.Loader)}},{key:"render",value:function(){return r.a.createElement("div",{className:"quiz-options"},r.a.createElement("div",{className:"quiz-select-option-left"},r.a.createElement("p",{className:"enter-code-p"},"Enter Code"),r.a.createElement("input",{type:"text",name:"code-text",className:"code-text-input",spellCheck:"false"}),r.a.createElement("div",{onClick:this.joinRoom,className:"join-room-button"},"Join Room")),r.a.createElement("div",{className:"vertical-separator"}),r.a.createElement("div",{className:"quiz-select-option-right",id:"right-option"},r.a.createElement("div",{onClick:this.createRoom,className:"create-room-button"},"Create Room")))}}]),a}(r.a.Component)),A=(a(47),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showRequest=!0,n.reqInfo={UserID:n.props.userName,RoomID:n.props.roomID},n.acceptRequest=n.acceptRequest.bind(Object(u.a)(n)),n.rejectReqeuest=n.rejectReqeuest.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"acceptRequest",value:function(){this.props.socket.send('"requestAccepted"-'+JSON.stringify(this.reqInfo)),this.showRequest=!1,this.forceUpdate()}},{key:"rejectReqeuest",value:function(){this.props.socket.send('"requestRejected"-'+JSON.stringify(this.reqInfo)),this.showRequest=!1,this.forceUpdate()}},{key:"render",value:function(){return this.showRequest?r.a.createElement("div",{className:"notification-div",id:"notification-id-"+this.props.userName},r.a.createElement("div",{className:"request-user-name"},this.props.userName),r.a.createElement("div",{className:"accept-request-button",onClick:this.acceptRequest},r.a.createElement("p",null,"Accept")),r.a.createElement("div",{className:"reject-request-button",onClick:this.rejectReqeuest},r.a.createElement("p",null,"Reject"))):null}}]),a}(r.a.Component)),C=(a(48),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"participant-div",id:"participant-id-"+this.props.name},r.a.createElement("div",{className:"participant-user-name"},this.props.name))}}]),a}(r.a.Component)),R=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).socket=new WebSocket("ws://localhost:8080/webSocket"),n.isLoading=!1,n.activeComponent=f.Username,n.questionAndAnswers=[],n.notificationRequests=[],n.roomID=v()(Date.now()),n.userName=Date.now().toString(),n.owner=!1,n.results=[],n.participants=[],n.stopLoader=n.stopLoader.bind(Object(u.a)(n)),n.setUsername=n.setUsername.bind(Object(u.a)(n)),n.startLoader=n.startLoader.bind(Object(u.a)(n)),n.setOwnerStatus=n.setOwnerStatus.bind(Object(u.a)(n)),n.setActiveComponent=n.setActiveComponent.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"startLoader",value:function(){this.isLoading=!0,this.forceUpdate()}},{key:"stopLoader",value:function(){this.isLoading=!1,this.forceUpdate()}},{key:"setActiveComponent",value:function(e){this.startLoader(),this.activeComponent=e}},{key:"setOwnerStatus",value:function(e){this.owner=e}},{key:"setUsername",value:function(e){this.userName=e}},{key:"componentDidMount",value:function(){var e=this;this.socket.onopen=function(){console.log("Connected to websocket"),e.socket.send(JSON.stringify("Hi"))},this.socket.onmessage=function(t){console.log(t.data);var a=JSON.parse(t.data);if(void 0!==a.qAndAReponse)e.questionAndAnswers=a.qAndAReponse,e.setActiveComponent(f.Quiz);else if(void 0!==a.entryRequest)e.notificationRequests.push(r.a.createElement(A,{socket:e.socket,roomID:e.roomID,userName:a.entryRequest}));else if(void 0!==a.entryAccepted)e.setActiveComponent(f.Room),e.roomID=a.entryAccepted;else if(void 0!==a.results)e.results=JSON.parse(JSON.stringify(a.results)),e.setActiveComponent(f.Result);else if(void 0!==a.participants){var n=a.participants;e.participants.push(r.a.createElement(C,{name:n}))}else"entryRejected"==a&&e.setActiveComponent(f.Rejected);e.stopLoader()},this.socket.onclose=function(){console.log("Socket closed")}}},{key:"componentToRender",value:function(){if(this.isLoading)return r.a.createElement(k,null);switch(this.activeComponent){case f.Username:return r.a.createElement(q,{setActiveComponent:this.setActiveComponent,stopLoader:this.stopLoader,setUsername:this.setUsername});case f.QuizOptions:return r.a.createElement(y,{socket:this.socket,roomId:this.roomID,user:this.userName,setActiveComponent:this.setActiveComponent,setOwner:this.setOwnerStatus});case f.Room:return r.a.createElement(h,{socket:this.socket,roomId:this.roomID,user:this.userName,setActiveComponent:this.setActiveComponent,participants:this.participants,requests:this.notificationRequests,isOwner:this.owner,roomID:this.roomID});case f.Quiz:return r.a.createElement(E,{socket:this.socket,roomId:this.roomID,user:this.userName,setActiveComponent:this.setActiveComponent,questionAndAnswers:this.questionAndAnswers});case f.Result:return r.a.createElement(j,{results:this.results,userName:this.userName});case f.Rejected:return r.a.createElement(O,null)}return null}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.componentToRender())}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.c3edcf8d.chunk.js.map